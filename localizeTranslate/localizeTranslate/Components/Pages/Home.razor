@page "/"
@inject IJSRuntime JS
@inject IStringLocalizer<localizeTranslate.SharedResource> L
@inject IPortfolioDataService PortfolioData

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center justify-content-center">
            <div class="col-md-4 text-center mb-4 mb-md-0">
                <div class="profile-avatar mx-auto">
                    <span>TR</span>
                </div>
            </div>
            <div class="col-md-6">
                <h1 class="hero-name">THANAKON<br />RUCHIKANCHANARAT</h1>
                <p class="hero-subtitle">@L["Header_Subtitle"]</p>
                <p class="hero-summary text-muted">@L["Header_Summary"]</p>

                <div class="d-flex flex-wrap gap-3 mt-4">
                    <span class="contact-chip">
                        <i class="bi bi-telephone"></i> 093-0560310
                    </span>
                    <a href="mailto:bitelion9909@gmail.com" class="contact-chip text-decoration-none">
                        <i class="bi bi-envelope"></i> bitelion9909@gmail.com
                    </a>
                    <a href="https://github.com/liondev" target="_blank" class="contact-chip text-decoration-none">
                        <i class="bi bi-github"></i> liondev
                    </a>
                    <span class="contact-chip">
                        <i class="bi bi-geo-alt"></i> @L["Header_Location"]
                    </span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Work Experience -->
<section class="content-section">
    <div class="container">
        <h2 class="section-heading">@L["Section_WorkExperience"]</h2>

        <div class="row g-4">
            @foreach (var job in PortfolioData.GetJobs())
            {
                <div class="col-md-6">
                    <div class="card border-0 shadow-sm h-100 card-hover">
                        <div class="card-body p-4">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div>
                                    <h5 class="card-title fw-semibold mb-1">@job.Title</h5>
                                    <p class="text-primary mb-0 fw-medium">@job.Company</p>
                                </div>
                                <span class="badge bg-light text-dark">@job.Period</span>
                            </div>
                            <ul class="list-unstyled mt-3 mb-0">
                                @foreach (var detail in job.Details)
                                {
                                    <li class="mb-2 text-muted">
                                        <i class="bi bi-check2 text-primary me-2"></i>@detail
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>

<!-- Projects -->
<section class="content-section section-alt">
    <div class="container">
        <h2 class="section-heading">@L["Section_Projects"]</h2>

        <div class="row g-4">
            @foreach (var project in PortfolioData.GetProjects())
            {
                <div class="col-md-6 col-lg-4">
                    <div class="card border-0 shadow-sm h-100 card-hover">
                        <div class="card-body p-4">
                            <h5 class="card-title fw-semibold">@project.Title</h5>
                            <span class="badge bg-primary bg-opacity-10 text-primary mb-3">@project.Year</span>
                            <p class="text-muted mb-0">@project.Description</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>

<!-- Skills -->
<section class="content-section">
    <div class="container">
        <h2 class="section-heading">@L["Section_Skills"]</h2>

        <div class="row g-4">
            @foreach (var category in PortfolioData.GetSkills())
            {
                <div class="col-md-6">
                    <h6 class="text-uppercase text-muted fw-semibold letter-spacing mb-3">@category.Name</h6>
                    <div class="d-flex flex-wrap gap-2">
                        @foreach (var skill in category.Items)
                        {
                            <span class="skill-badge">@skill</span>
                        }
                    </div>
                </div>
            }
        </div>
    </div>
</section>

<!-- Education -->
<section class="content-section section-alt">
    <div class="container">
        <h2 class="section-heading">@L["Section_Education"]</h2>

        @foreach (var edu in PortfolioData.GetEducation())
        {
            <div class="card border-0 shadow-sm card-hover">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h5 class="fw-semibold mb-1">@edu.Degree</h5>
                            <p class="text-primary mb-0 fw-medium">@edu.School</p>
                        </div>
                        <span class="badge bg-light text-dark">@edu.Period</span>
                    </div>
                </div>
            </div>
        }
    </div>
</section>

<!-- Footer -->
<footer class="py-5 text-center">
    <div class="container">
        <p class="text-muted mb-2">@L["Footer_Copyright"]</p>
        <a href="https://github.com/liondev" target="_blank" class="text-decoration-none">
            <i class="bi bi-github me-1"></i>@L["Footer_ViewGitHub"]
        </a>
    </div>
</footer>

<script>
    window.portfolio = {
        init: function () {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in-visible');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            document.querySelectorAll('.card-hover, .content-section')
                .forEach(el => observer.observe(el));
        }
    };
</script>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("portfolio.init");
        }
    }
}
